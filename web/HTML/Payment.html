<!DOCTYPE html>
<html>

<head>
    <title>Payment Page</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/web/CSS/HomePage.css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>

<style>
    .container {
        width: 50%;
        height: 90%;
        margin: 30px auto;
        padding: 20px;
        background-color: #f9f9f9;
        text-align: center;
        border-radius: 8px;
        justify-content: center;
        display: flex;
        flex-direction: column;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .container select, input[type="text"],
    input[type="file"] {
        width: 50%;
        padding: 10px;
        margin: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }


    .form-group {
        margin-bottom: 15px;
    }

    label {
        display: block;
        margin-top: 10px;
    }

    button {
        width: 30%;
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
    }

    button:hover {
        background-color: #45a049;
    }

    .back-button {
        width: 5%;
        margin-top: 10px;
        background-color: #45a049;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 14px;
        text-decoration: none;
        display: inline-block;
    }

    .back-button:hover {
        background-color: #5f5f5f;
    }

</style>

<body>
    <header>
        <div class="main">
            <a href="CertificateForm.html">
                <img class="logo" src="/web/IMG/HRSCLogo.png" alt="logo">
            </a>
        </div>
        <nav>
            <ul>
                <li class="dropdown">
                    <a href="#" class="nav-link">Candidate</a>
                    <ul class="dropdown-content">
                        <li><a href="CandidateProfile.html">User Profile</a></li>
                        <li><a href="MainPage.html">Sign Out</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <h2>Payment Details</h2> <br>
        <form action="/process_payment" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="certificate">Certificate:</label>
                <select id="certificate" name="certificate" required>
                    <option value="" disabled selected>Please Choose</option>
                    <option value="SKM">Sijil Kemahiran Malaysia (SKM)</option>
                    <option value="DKM">Diploma Kemahiran Malaysia (DKM)</option>
                    <option value="DLKM">Diploma Lanjutan Kemahiran Malaysia (DLKM)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="price">Price:</label>
                <input type="text" id="price" name="price" readonly required>
            </div>

            <div class="form-group">
                <!-- <label for="payment_date">Payment Date:</label> -->
                <input type="hidden" id="payment_date" name="payment_date" required>
            </div>

            <div class="form-group">
                <label for="file">Upload Receipt:</label>
                <input type="file" id="file" name="file" accept=".pdf,.doc,.docx" required>
            </div>

            <!-- Default status set to "Pending" -->
            <input type="hidden" id="status" name="status" value="Pending">

            <!-- <button type="button" onclick="confirmPayment()">Pay Now</button> -->

            <a href="AboutCertificate.html">
                <button type="button">Pay Now</button>
            </a>

        </form>
        <a href="javascript:history.back()" class="back-button">Back</a>
    </div>


    <!-- JavaScript for confirmation popup and calculating price based on selected certificate -->
    <script>
        document.getElementById('certificate').addEventListener('change', function () {
            var certificate = this.value;
            var priceField = document.getElementById('price');
            var price = 0;
            switch (certificate) {
                case 'SKM':
                    price = 2250;
                    break;
                case 'DKM':
                    price = 2700;
                    break;
                case 'DLKM':
                    price = 3600;
                    break;
                default:
                    price = 0;
            }
            priceField.value = price;
        });

        function confirmPayment() {
            if (confirm("Are you sure you want to proceed with the payment?")) {
                // If user confirms, submit the form
                document.querySelector('form').submit();
            }
        }

        // Auto-fill payment date with current date
        document.getElementById('payment_date').valueAsDate = new Date();
    </script>

    <footer>
        <p>&copy; HR SkillCertify 2023</p>
    </footer>

</body>

</html>
